(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(41)},31:function(e,t,a){},32:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),c=a.n(l),o=(a(31),a(25)),i=a(52),s=a(49),u=a(50),m=a(51),p=a(53),f={isAuthenticated:!1,authenticate:function(e){var t=this;fetch("api/users/user",{credentials:"include"}).then(function(a){t.isAuthenticated=!0,"function"===typeof e&&e(a.json().user)}).catch(function(e){console.log("Error fetching authorized user.")})},signout:function(e){var t=this;fetch("api/users/logout",{method:"POST",credentials:"include"}).then(function(a){t.isAuthenticated=!1,"function"===typeof e&&e(!0)}).catch(function(t){console.log("Error logging out user."),"function"===typeof e&&e(!1)})}},d=a(2),E=a(3),h=a(5),v=a(4),b=a(6),g=a(43),y=(a(32),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,width:window.innerWidth},a.updateWidth=function(){var e={width:window.innerWidth};a.state.open&&e.width>991&&(e.open=!1),a.setState(e)},a.toggleNav=function(){a.setState({open:!a.state.open})},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateWidth)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWidth)}},{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark mb-2"},r.a.createElement(g.a,{className:"navbar-brand",to:"/"},"ACLS Study Platform"),r.a.createElement("button",{onClick:this.toggleNav,className:"navbar-toggler","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"".concat(this.state.open?"":"collapse ","navbar-collapse"),id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.a,{onClick:this.toggleNav,className:"/"===window.location.pathname?"nav-link active":"nav-link",to:"/login"},"Login")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.a,{onClick:this.toggleNav,className:"/"===window.location.pathname?"nav-link active":"nav-link",to:"/public"},"Public")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.a,{onClick:this.toggleNav,className:"/"===window.location.pathname?"nav-link active":"nav-link",to:"/protected"},"Protected")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.a,{onClick:this.toggleNav,className:"/"===window.location.pathname?"nav-link active":"nav-link",to:"/register"},"Register")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(g.a,{onClick:this.toggleNav,className:"/"===window.location.pathname?"nav-link active":"nav-link",to:"/alsoprotected"},"Also Protected")))))}}]),t}(n.Component)),O=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.onLogin;return r.a.createElement("form",{ref:function(t){return e.form=t},onSubmit:function(a){return a.preventDefault(),t({username:e.usernameElem.value,password:e.passwordElem.value})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",ref:function(t){return e.usernameElem=t},type:"text",name:"username",placeholder:"Enter Username"}),r.a.createElement("br",null),r.a.createElement("input",{className:"form-control",ref:function(t){return e.passwordElem=t},type:"password",name:"password",placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-success",type:"submit"},"Submit")))}}]),t}(r.a.Component),j=(a(35),function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={redirectToReferrer:!1},a.login=function(e){console.log("Logging in "+e.username),fetch("api/users/login",{method:"POST",body:JSON.stringify(e),credentials:"include",headers:{"Content-Type":"application/json"}}).then(function(e){200===e.status&&f.authenticate(function(){a.setState({redirectToReferrer:!0})})}).catch(function(e){console.log("Error logging in.",e)})},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=(this.props.location.state||{from:{pathname:"/protected"}}).from;return this.state.redirectToReferrer?r.a.createElement(u.a,{to:e}):r.a.createElement("div",{className:"testing"},r.a.createElement("p",null,"You must log in to view the page at ",e.pathname),r.a.createElement(O,{onLogin:this.login}))}}]),t}(r.a.Component)),w=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){var e=this,t=this.props.onRegister;return console.log("Register form props are: ".concat(JSON.stringify(this.props))),r.a.createElement("form",{ref:function(t){return e.form=t},onSubmit:function(a){return a.preventDefault(),t({username:e.usernameElem.value,password:e.passwordElem.value})}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{className:"form-control",ref:function(t){return e.usernameElem=t},type:"text",name:"username",placeholder:"Enter Username"}),r.a.createElement("br",null),r.a.createElement("input",{className:"form-control",ref:function(t){return e.passwordElem=t},type:"password",name:"password",placeholder:"Password"}),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn btn-primary",type:"submit"},"Submit")))}}]),t}(r.a.Component),N=function(e){function t(){var e,a;Object(d.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(r)))).state={redirectToReferrer:!1},a.register=function(e){fetch("api/users/register",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},credentials:"include"}).then(function(e){200===e.status&&console.log("Succesfully registered user!")}).catch(function(e){console.log("Error registering user.",e)})},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Register a New User"),r.a.createElement(w,{onRegister:this.register}))}}]),t}(r.a.Component);function k(e){var t=e.fluid,a=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}var S=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h3",null,"This is a Public Page Here"),r.a.createElement("p",null,"Anyone can see this content"))}}]),t}(r.a.Component),C=a(45),x=a(46),A=a(47),P=(a(37),a(44)),T=function(e){return r.a.createElement("div",null,r.a.createElement(P.a,null,r.a.createElement("h1",{className:"display-3"},e.text)))},L=(a(38),function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(C.a,null,r.a.createElement(T,{text:"Hey girl"}),r.a.createElement(x.a,null,r.a.createElement(A.a,null,".col")),r.a.createElement(x.a,null,r.a.createElement(A.a,{className:"hello"},".col"),r.a.createElement(A.a,null,".col"),r.a.createElement(A.a,null,".col"),r.a.createElement(A.a,null,".col")),r.a.createElement(x.a,null,r.a.createElement(A.a,{xs:"3"},".col-3"),r.a.createElement(A.a,{xs:"auto"},".col-auto - variable width content"),r.a.createElement(A.a,{xs:"3"},".col-3")),r.a.createElement(x.a,null,r.a.createElement(A.a,{xs:"6"},".col-6"),r.a.createElement(A.a,{xs:"6"},".col-6")),r.a.createElement(x.a,null,r.a.createElement(A.a,{xs:"6",sm:"4"},".col-6 .col-sm-4"),r.a.createElement(A.a,{xs:"6",sm:"4"},".col-6 .col-sm-4"),r.a.createElement(A.a,{sm:"4"},".col-sm-4")),r.a.createElement(x.a,null,r.a.createElement(A.a,{sm:{size:6,order:2,offset:1}},".col-sm-6 .order-sm-2 .offset-sm-1")),r.a.createElement(x.a,null,r.a.createElement(A.a,{sm:"12",md:{size:6,offset:3}},".col-sm-12 .col-md-6 .offset-md-3")),r.a.createElement(x.a,null,r.a.createElement(A.a,{sm:{size:"auto",offset:1}},".col-sm-auto .offset-sm-1"),r.a.createElement(A.a,{sm:{size:"auto",offset:1}},".col-sm-auto .offset-sm-1"))))}}]),t}(r.a.Component)),R=(a(39),a(48));var z=R.a,W=function(e){function t(){return Object(d.a)(this,t),Object(h.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(T,{text:"ACLS Study Platform"}),r.a.createElement(z,null))}}]),t}(r.a.Component),J=(a(40),{color:"cornflowerblue",listStyle:"none"}),U=Object(i.a)(function(e){var t=e.history;return f.isAuthenticated?r.a.createElement("div",{className:"container"},r.a.createElement("p",null,"Success! You are Logged In!"),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){f.signout(function(){return t.push("/")})}},"Sign out")):r.a.createElement("p",null,"You are not logged in.")}),D=function(e){var t=e.component,a=Object(o.a)(e,["component"]);return r.a.createElement(s.a,Object.assign({},a,{render:function(e){return f.isAuthenticated?r.a.createElement(t,e):r.a.createElement(u.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Y=function(){return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement(y,{className:"App-header"}),r.a.createElement(k,null,r.a.createElement(U,null),r.a.createElement("ul",{style:J}),r.a.createElement(p.a,null,r.a.createElement(s.a,{path:"/public",component:S}),r.a.createElement(s.a,{path:"/login",component:j}),r.a.createElement(s.a,{path:"/register",component:N}),r.a.createElement(D,{path:"/protected",component:L}),r.a.createElement(D,{path:"/alsoprotected",component:W}),r.a.createElement(s.a,{path:"/study",component:S})))))};c.a.render(r.a.createElement(Y,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.896ba55b.chunk.js.map